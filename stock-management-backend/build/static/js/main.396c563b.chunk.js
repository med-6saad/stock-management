(this["webpackJsonpstock-management-frontend"]=this["webpackJsonpstock-management-frontend"]||[]).push([[0],{113:function(e,t,n){},114:function(e,t,n){},118:function(e,t,n){},122:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n(0),c=n.n(r),i=n(11),o=n.n(i),s=(n(110),n(111),n(112),n(113),n(40)),l=n(41),u=n(45),d=n(44),j=(n(114),n(158)),m=n(162),b=n(163),h=n(56),p=n(160),O=Object(j.a)((function(e){return{root:{flexGrow:1},title:{flexGrow:1}}})),f=function(){var e=O();return Object(a.jsx)(p.a,{className:e.root,children:Object(a.jsx)(m.a,{position:"fixed",children:Object(a.jsx)(b.a,{children:Object(a.jsx)(h.a,{variant:"h4",className:e.title,children:"Stock Management WebApp"})})})})},g=function(){return Object(a.jsx)("div",{className:"footer",children:Object(a.jsxs)("div",{className:"container",children:[Object(a.jsx)("div",{className:"row justify-content-center",children:Object(a.jsxs)("div",{className:"text-center",children:[Object(a.jsx)("a",{className:"btn btn-social-icon btn-google",href:"http://google.com/+",children:Object(a.jsx)("i",{className:"fa fa-google-plus"})}),Object(a.jsx)("a",{className:"btn btn-social-icon btn-facebook",href:"https://facebook.com",children:Object(a.jsx)("i",{className:"fa fa-facebook"})}),Object(a.jsx)("a",{className:"btn btn-social-icon btn-linkedin",href:"https://linkedin.com",children:Object(a.jsx)("i",{className:"fa fa-linkedin"})})]})}),Object(a.jsx)("div",{className:"row justify-content-center",children:Object(a.jsx)("div",{className:"col-auto",children:Object(a.jsx)("p",{children:"\xa9 Copyright 2021 Stock Managment WebApp"})})})]})})},x=n(125),v=n(171),y=n(88),C=n.n(y),k=n(86),S=n.n(k),T=(n(118),n(168)),I=n(169),w=n(170),N=n(172),E=n(5),M=n(176),D=n(87),_=n.n(D),z=n(173),L=n(18),A=n(10),R=n(46),B=n(178),P=n(164),F=n(166),U=n(167),W=n(165),J=n(42),V=n.n(J),G=n(175),Y=Object(j.a)((function(e){return{root:{"& .MuiTextField-root":{margin:e.spacing(1),width:200}}}})),H=Object(E.a)((function(e){return{root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}))((function(e){var t=e.children,n=e.classes,r=e.onClose,c=Object(R.a)(e,["children","classes","onClose"]);return Object(a.jsxs)(P.a,Object(A.a)(Object(A.a)({disableTypography:!0,className:n.root},c),{},{children:[Object(a.jsx)(h.a,{variant:"h6",children:t}),r?Object(a.jsx)(W.a,{"aria-label":"close",className:n.closeButton,onClick:r,children:Object(a.jsx)(V.a,{})}):null]}))})),K=Object(E.a)((function(e){return{root:{padding:e.spacing(2)}}}))(F.a),q=Object(E.a)((function(e){return{root:{margin:0,padding:e.spacing(1)}}}))(U.a);function Q(e){var t=e.postItem,n=c.a.useState(!1),r=Object(L.a)(n,2),i=r[0],o=r[1],s=c.a.useState(""),l=Object(L.a)(s,2),u=l[0],d=l[1],j=c.a.useState(""),m=Object(L.a)(j,2),b=m[0],h=m[1],p=c.a.useState(0),O=Object(L.a)(p,2),f=O[0],g=O[1],v=c.a.useState(""),y=Object(L.a)(v,2),C=y[0],k=y[1],S=Y(),T=function(){var e=u,n=new Date(b);t(e,n,f,C),o(!1)};return Object(a.jsxs)("div",{children:[Object(a.jsx)(x.a,{variant:"contained",color:"secondary",onClick:function(){o(!0)},children:"+ New"}),Object(a.jsxs)(B.a,{onClose:T,"aria-labelledby":"customized-dialog-title",open:i,children:[Object(a.jsx)(H,{id:"customized-dialog-title",onClose:function(){o(!1)},children:"New Item"}),Object(a.jsx)(K,{dividers:!0,children:Object(a.jsxs)("form",{className:S.root,noValidate:!0,autoComplete:"off",children:[Object(a.jsxs)("div",{children:[Object(a.jsx)(G.a,{label:"Item Name",id:"outlined-size-small",defaultValue:"",variant:"outlined",type:"string",value:u,onChange:function(e){d(e.target.value)},placeholder:"MATCH Stocks",size:"small"}),Object(a.jsx)(G.a,{label:"Current Stock",id:"outlined-size-small",type:"number",variant:"outlined",value:f,onChange:function(e){g(e.target.value)},placeholder:"1003",size:"small"})]}),Object(a.jsxs)("div",{children:[Object(a.jsx)(G.a,{label:"Manufacturer",id:"outlined-full-width",variant:"outlined",type:"string",value:C,onChange:function(e){return k(e.target.value)},placeholder:"MyAnatomy",size:"small"}),Object(a.jsx)(G.a,{label:"",id:"outlined-helperText",variant:"outlined",value:b,onChange:function(e){h(e.target.value)},type:"date",size:"small"})]})]})}),Object(a.jsx)(q,{children:Object(a.jsx)(x.a,{autoFocus:!0,onClick:T,color:"primary",children:"Save"})})]})]})}var X=n(84),Z=n.n(X),$=Object(E.a)((function(e){return{root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}))((function(e){var t=e.children,n=e.classes,r=e.onClose,c=Object(R.a)(e,["children","classes","onClose"]);return Object(a.jsxs)(P.a,Object(A.a)(Object(A.a)({disableTypography:!0,className:n.root},c),{},{children:[Object(a.jsx)(h.a,{variant:"h6",children:t}),r?Object(a.jsx)(W.a,{"aria-label":"close",className:n.closeButton,onClick:r,children:Object(a.jsx)(V.a,{})}):null]}))})),ee=Object(E.a)((function(e){return{root:{padding:e.spacing(2)}}}))(F.a),te=Object(E.a)((function(e){return{root:{margin:0,padding:e.spacing(1)}}}))(U.a);function ne(e){var t=e.item,n=c.a.useState(!1),r=Object(L.a)(n,2),i=r[0],o=r[1],s=new Date(t.dateAdded).toLocaleDateString(),l=function(){o(!1)};return Object(a.jsxs)("div",{children:[Object(a.jsx)(x.a,{variant:"contained",startIcon:Object(a.jsx)(Z.a,{}),onClick:function(){o(!0)},children:"View"}),Object(a.jsxs)(B.a,{onClose:l,"aria-labelledby":"customized-dialog-title",open:i,maxWidth:"md",children:[Object(a.jsx)($,{id:"customized-dialog-title",onClose:l,children:t.itemName}),Object(a.jsxs)(ee,{dividers:!0,children:[Object(a.jsxs)(h.a,{variant:"h6",children:["Item Name: ",t.itemName]}),Object(a.jsxs)(h.a,{variant:"h6",children:["Company: ",t.manufacturingCompany]}),Object(a.jsxs)(h.a,{variant:"h6",children:["Current Stock: ",t.currentStock]}),Object(a.jsxs)(h.a,{variant:"h6",children:["Date Added: ",s]})]}),Object(a.jsx)(te,{children:Object(a.jsx)(x.a,{variant:"filled",autoFocus:!0,onClick:l,color:"primary",children:"Hide"})})]})]})}var ae=n(85),re=n.n(ae),ce=Object(j.a)((function(e){return{root:{"& .MuiTextField-root":{margin:e.spacing(1),width:200}}}})),ie=Object(E.a)((function(e){return{root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}))((function(e){var t=e.children,n=e.classes,r=e.onClose,c=Object(R.a)(e,["children","classes","onClose"]);return Object(a.jsxs)(P.a,Object(A.a)(Object(A.a)({disableTypography:!0,className:n.root},c),{},{children:[Object(a.jsx)(h.a,{variant:"h6",children:t}),r?Object(a.jsx)(W.a,{"aria-label":"close",className:n.closeButton,onClick:r,children:Object(a.jsx)(V.a,{})}):null]}))})),oe=Object(E.a)((function(e){return{root:{padding:e.spacing(2)}}}))(F.a),se=Object(E.a)((function(e){return{root:{margin:0,padding:e.spacing(1)}}}))(U.a);function le(e){var t=e.item,n=e.editItem,r=new Date(t.dateAdded),i=new Date(r.getTime()-6e4*r.getTimezoneOffset()).toISOString().split("T")[0],o=c.a.useState(!1),s=Object(L.a)(o,2),l=s[0],u=s[1],d=c.a.useState(t.itemName),j=Object(L.a)(d,2),m=j[0],b=j[1],h=c.a.useState(i),p=Object(L.a)(h,2),O=p[0],f=p[1],g=c.a.useState(t.currentStock),v=Object(L.a)(g,2),y=v[0],C=v[1],k=c.a.useState(t.manufacturingCompany),S=Object(L.a)(k,2),T=S[0],I=S[1],w=ce(),N=function(){var e=m,a=new Date(O),r=y,c=T,i=t;i.itemName=e,i.dateAdded=a,i.currentStock=r,i.manufacturingCompany=c,n(i),u(!1)};return Object(a.jsxs)("div",{children:[Object(a.jsx)(x.a,{variant:"contained",startIcon:Object(a.jsx)(re.a,{}),color:"primary",onClick:function(){u(!0)},children:"Edit"}),Object(a.jsxs)(B.a,{onClose:N,"aria-labelledby":"customized-dialog-title",open:l,maxWidth:"md",children:[Object(a.jsxs)(ie,{id:"customized-dialog-title",onClose:function(){u(!1)},children:["Edit: ",t.itemName]}),Object(a.jsx)(oe,{dividers:!0,children:Object(a.jsxs)("form",{className:w.root,noValidate:!0,autoComplete:"off",children:[Object(a.jsxs)("div",{children:[Object(a.jsx)(G.a,{label:"Item Name",id:"outlined-size-small",defaultValue:"",variant:"outlined",type:"string",value:m,onChange:function(e){b(e.target.value)},placeholder:"MATCH Stocks",size:"small"}),Object(a.jsx)(G.a,{label:"Current Stock",id:"outlined-size-small",type:"number",variant:"outlined",value:y,onChange:function(e){return C(e.target.value)},size:"small"})]}),Object(a.jsxs)("div",{children:[Object(a.jsx)(G.a,{label:"Manufacturer",id:"outlined-full-width",variant:"outlined",type:"string",value:T,onChange:function(e){return I(e.target.value)},placeholder:"MyAnatomy",size:"small"}),Object(a.jsx)(G.a,{label:"",id:"outlined-helperText",variant:"outlined",value:O,onChange:function(e){return f(e.target.value)},type:"date",size:"small"})]})]})}),Object(a.jsx)(se,{children:Object(a.jsx)(x.a,{variant:"filled",autoFocus:!0,onClick:N,color:"primary",children:"Save"})})]})]})}var ue=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e=this,t=this.props.classes,n=!0!==this.props.items.isLoading?this.props.items.items.map((function(t){return Object(a.jsx)(M.a,{ml:8,mr:8,mt:4,mb:2,children:Object(a.jsxs)(T.a,{style:{display:"block",color:"#2B6705",transitionDuration:"0.3s"},variant:"outlined",children:[Object(a.jsx)(I.a,{title:"".concat(t.itemName),subheader:"Company: ".concat(t.manufacturingCompany)}),Object(a.jsxs)(w.a,{orientation:"horizontal",children:[Object(a.jsx)(h.a,{color:"textPrimary",children:"Stocks: ".concat(t.currentStock)}),Object(a.jsxs)(v.a,{children:[Object(a.jsx)(x.a,{startIcon:Object(a.jsx)(S.a,{}),onClick:function(n){e.props.incrementCurrentStock(t._id)}}),Object(a.jsx)(x.a,{startIcon:Object(a.jsx)(_.a,{}),onClick:function(n){e.props.decrementCurrentStock(t._id)}})]})]}),Object(a.jsx)(N.a,{children:Object(a.jsxs)(v.a,{variant:"contained",spacing:2,orientation:"horizontal",fullWidth:!0,children:[Object(a.jsx)(le,{item:t,editItem:e.props.editItem}),Object(a.jsx)(ne,{item:t}),Object(a.jsx)(x.a,{startIcon:Object(a.jsx)(C.a,{}),color:"secondary",onClick:function(n){e.props.deleteItem(t._id)},children:"Delete"})]})})]})},t._id)})):Object(a.jsx)("div",{children:"Loading..."});return Object(a.jsx)(z.a,{container:!0,className:t.root,spacing:1,children:Object(a.jsxs)(z.a,{item:!0,xs:12,children:[Object(a.jsx)(M.a,{mt:10,ml:10,children:Object(a.jsx)(Q,{postItem:this.props.postItem})}),Object(a.jsx)(z.a,{container:!0,justify:"center",children:n})]})})}}]),n}(r.Component),de=Object(E.a)((function(e){return{root:{flexGrow:1},paper:{height:140,width:200},control:{padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}))(ue),je=n(14),me=n(64),be=n(174),he="CREATE_ITEM",pe="LOADING_ITEM",Oe="FAILED_ITEM",fe="ADD_ITEM",ge="DELETE_ITEM",xe="INC_ITEM_STOCK",ve="DEC_ITEM_STOCK",ye="EDIT_ITEM",Ce="https://stock-management-webapp.herokuapp.com/",ke=function(e){return{type:fe,payload:e}},Se=function(){return function(e){return e({type:pe,payload:!0}),fetch(Ce+"itemRouter").then((function(e){if(e.ok)return e;var t=new be.a("Error"+e.status+": "+e.statusText);throw t.response=e,t}),(function(e){throw new be.a(e.message)})).then((function(e){return e.json()})).then((function(t){return e(ke(t.reverse()))})).catch((function(t){return e((t.message,{type:Oe}))}))}},Te=function(e){return function(t){return fetch(Ce+"itemRouter/"+e+"/currentStock",{method:"PUT",body:JSON.stringify({changeBy:4}),headers:{"Content-Type":"application/json"},credentials:"same-origin"}).then((function(e){if(e.ok)return e;var t=new be.a("Error"+e.status+": "+e.statusText);throw t.response=e,t}),(function(e){throw new be.a(e.message)})).then((function(n){return t(function(e){return{type:xe,payload:e}}(e))})).catch((function(e){console.log("PUT item (INCR): ",e.message),alert("Your item's current stock could not be incremented\nError: "+e.message)}))}},Ie=function(e){return function(t){return fetch(Ce+"itemRouter/"+e+"/currentStock",{method:"PUT",body:JSON.stringify({changeBy:-1}),headers:{"Content-Type":"application/json"},credentials:"same-origin"}).then((function(e){if(e.ok)return e;var t=new be.a("Error"+e.status+": "+e.statusText);throw t.response=e,t}),(function(e){throw new be.a(e.message)})).then((function(n){return t(function(e){return{type:ve,payload:e}}(e))})).catch((function(e){console.log("PUT item (DECR): ",e.message),alert("Your item's current stock could not be decremented\nError: "+e.message)}))}},we=function(e){return function(t){return fetch(Ce+"itemRouter/"+e,{method:"DELETE",headers:{"Content-Type":"application/json"},credentials:"same-origin"}).then((function(e){if(e.ok)return e;var t=new be.a("Error "+e.status+": "+e.statusText);throw t.response=e,t}),(function(e){throw new be.a(e.message)})).then((function(n){return t(function(e){return{type:ge,payload:e}}(e))})).catch((function(e){console.log("DELETE item: ",e.message),alert("Your item is not deleted: "+e.message)}))}},Ne=function(e){return function(t){return fetch(Ce+"itemRouter/"+e._id,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"same-origin"}).then((function(e){if(e.ok)return e;var t=new be.a("Error: "+e.status+e.statusText);throw console.log(t),t})).then((function(n){return t(function(e){return{type:ye,payload:e}}(e))})).catch((function(e){console.log("ERROR: "+e.status+e.statusText),alert("We coudn't update your item."+e.message)}))}},Ee=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.props.fetchItem()}},{key:"render",value:function(){var e=this;return Object(a.jsxs)("div",{children:[Object(a.jsx)(f,{}),Object(a.jsxs)(je.d,{children:[Object(a.jsx)(je.b,{path:"/home",component:function(){return Object(a.jsx)(de,{items:e.props.items,postItem:e.props.postItem,incrementCurrentStock:e.props.incrementCurrentStock,decrementCurrentStock:e.props.decrementCurrentStock,deleteItem:e.props.deleteItem,editItem:e.props.editItem})}}),Object(a.jsx)(je.a,{to:"/home"})]}),Object(a.jsx)(g,{})]})}}]),n}(r.Component),Me=Object(je.g)(Object(me.b)((function(e){return{items:e.items}}),(function(e){return{fetchItem:function(){e(Se())},postItem:function(t,n,a,r){return e(function(e,t,n,a){return function(r){console.log("POSTITEM (ACTION CREATOR)");var c={itemName:e,dateAdded:t,currentStock:n,manufacturingCompany:a};return fetch(Ce+"itemRouter",{method:"POST",body:JSON.stringify(c),headers:{"Content-Type":"application/json"},credentials:"same-origin"}).then((function(e){if(e.ok)return e;var t=new be.a("Error "+e.status+": "+e.statusText);throw t.response=e,t}),(function(e){throw new be.a(e.message)})).then((function(e){return e.json()})).then((function(e){return c._id=e._id,r(ke([c]))})).catch((function(e){console.log("Post item: ",e.message),alert("Your item could not be posted\nError: "+e.message)}))}}(t,n,a,r))},incrementCurrentStock:function(t){return e(Te(t))},decrementCurrentStock:function(t){return e(Ie(t))},deleteItem:function(t){return e(we(t))},editItem:function(t){return e(Ne(t))}}}))(Ee)),De=n(69),_e=n(49),ze={isLoading:!0,errorMessage:null,items:[]},Le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ze,t=arguments.length>1?arguments[1]:void 0;switch(console.log("ITEMS REDUCER"),t.type){case he:return e.items=t.payload,Object(A.a)(Object(A.a)({},e),{},{isLoading:!1,errorMessage:null,items:t.payload});case fe:var n=e.items,a=t.payload;return n=a=a.concat(n),e.items=n,Object(A.a)(Object(A.a)({},e),{},{isLoading:!1,errorMessage:null,items:e.items});case ge:var r=e.items,c=r.findIndex((function(e){return e._id===t.payload}));return void 0!==c&&(r.splice(c,1),e.items=r),Object(A.a)(Object(A.a)({},e),{},{isLoading:!1,errorMessage:null,items:e.items});case ye:var i=e.items,o=i.findIndex((function(e){return e._id===t.payload._id}));return void 0!==o&&(i[o]=t.payload),Object(A.a)(Object(A.a)({},e),{},{isLoading:!1,errorMessage:null,items:e.items});case xe:var s=e.items,l=s.findIndex((function(e){return e._id===t.payload}));return void 0!==l&&(s[l].currentStock=Number(s[l].currentStock)+1,e.items=s),Object(A.a)(Object(A.a)({},e),{},{isLoading:!1,errorMesssage:null,items:e.items});case ve:var u=e.items.findIndex((function(e){return e._id===t.payload}));return void 0!==u&&(e.items[u].currentStock-=1),Object(A.a)(Object(A.a)({},e),{},{isLoading:!1,errorMesssage:null,items:e.items});case pe:return Object(A.a)(Object(A.a)({},e),{},{isLoading:!0,errorMessage:null,items:[]});case Oe:return Object(A.a)(Object(A.a)({},e),{},{isLoading:!1,errorMessage:t.payload,items:[]});default:return e}},Ae=n(90),Re=n(91),Be=n.n(Re),Pe=(console.log("MAIN STORE"),Object(_e.d)(Object(_e.c)({items:Le}),Object(_e.a)(Ae.a,Be.a))),Fe=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(a.jsx)(me.a,{store:Pe,children:Object(a.jsx)(De.a,{children:Object(a.jsx)(Me,{})})})}}]),n}(r.Component),Ue=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,181)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),a(e),r(e),c(e),i(e)}))};o.a.render(Object(a.jsx)(c.a.StrictMode,{children:Object(a.jsx)(Fe,{})}),document.getElementById("root")),Ue()}},[[122,1,2]]]);
//# sourceMappingURL=main.396c563b.chunk.js.map